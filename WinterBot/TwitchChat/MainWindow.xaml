<Window x:Class="TwitchChat.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Twitch Chat" Height="800" Width="500"
        Background="AliceBlue" SizeToContent="Manual"
        xmlns:local="clr-namespace:TwitchChat"
        DataContext="{Binding RelativeSource={RelativeSource Self}}" Closed="Window_Closed"
        >

    <Grid Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="0"/>
            <RowDefinition Height="*" />
            <RowDefinition Height="80"/>
        </Grid.RowDefinitions>

        <ScrollViewer Grid.Row="1" Name="ScrollBar">
            <ListView Name="AllItems" BorderThickness="0" Background="AliceBlue" ScrollViewer.HorizontalScrollBarVisibility="Disabled" ItemsSource="{Binding Messages}">
                <ListView.ItemTemplate>
                    <DataTemplate>
                        <DockPanel ScrollViewer.HorizontalScrollBarVisibility="Disabled">
                            <local:ChatLine
                                Value="{Binding}"
                                FontSize="12"
                                TextWrapping="Wrap"
                                FontFamily="Arial"
                                Margin="0,4,0,4"
                                VerticalAlignment="Center"/>
                        </DockPanel>
                    </DataTemplate>
                </ListView.ItemTemplate>

            </ListView>
        </ScrollViewer>

        <Grid Grid.Row="2">
            <StackPanel Margin="5,5">
                <CheckBox IsChecked="{Binding PlaySounds, Mode=TwoWay}">Play Sounds</CheckBox>
                <CheckBox IsChecked="{Binding HighlightQuestions, Mode=TwoWay}">Highlight Questions</CheckBox>
                <CheckBox IsChecked="{Binding ConfirmTimeouts, Mode=TwoWay}">Confirm Timeouts</CheckBox>
                <CheckBox IsChecked="{Binding ConfirmBans, Mode=TwoWay}">Confirm Bans</CheckBox>
            </StackPanel>
            <StackPanel VerticalAlignment="Bottom">
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="5">
                    <Label>Channel</Label>
                    <TextBox Name="Channel" Margin="5,0" Width="120" TextChanged="Channel_TextChanged"></TextBox>
                </StackPanel>
                <StackPanel HorizontalAlignment="Right" Height="30" Grid.Row="1" Margin="5" Orientation="Horizontal" >
                    <Button Margin="5,0" Width="70" Click="OnReconnect">Reconnect</Button>
                    <Button Margin="5,0" Width="70" Click="OnClear">Clear</Button>
                </StackPanel>
            </StackPanel>
        </Grid>
    </Grid>
</Window>
